<!DOCTYPE html>
<html data-template-syntax="mustache">
<head>
<meta charset="utf-8" />
<meta id="pageTitle" name="mt-page-title">
<title id="pageTitle" name="mt-page-title">赢天下不如赢你</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no, viewport-fit=cover" />
<script data-mt-inline src="//g.alicdn.com/mtb/lib-windvane/2.1.8/windvane.js"></script>
<style>
    html {
        -webkit-text-size-adjust: none;
    }

    body {
        width: 100%;
        height: 100%;
        font-family: Helvetica, STHeiti STXihei, Microsoft JhengHei, Microsoft YaHei, Arial;
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        -webkit-user-select: none;
        user-select: none;
        overflow: hidden;
    }

    a, img {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        outline: 0;
        border: 0;
    }

    body, p {
        margin: 0;
        padding: 0;
        vertical-align: baseline;
    }

    /*
    0.1rem = 2px
    */
    #wrapper, .rainWrap {
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        bottom: 0;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        display: none
    }

    .rainWrap{display: block; position: absolute;}

    .hide {
        display: none !important;
    }

    .show {
        display: block !important;
    }

    .yuyue {
        width: 100%;
        height: 26rem;
        position: absolute;
        top:50%;
        margin-top:-14.5rem;
    }

    .yuyue .bgpic {
        display: block;
        width: 18.75rem;
    }

    .yuyue .title, .yuyue .shan, .yuyue .renwu, .info, .yuyue .wumai {
        position: absolute;
        left: 50%;
    }

    #btn,#close,.info, .yuyue .title{opacity: 0}

    #btn {
        z-index: 150;
        position: absolute;
        left: 50%;
        bottom: 7rem;
        margin-left: -4.125rem;
        width: 8.25rem;
        height: 2.575rem;
    }
    .info {
        width: 7rem;
        margin-left: -3.5rem;
        bottom: 9.2rem;
        z-index: 12
    }

    #close {
        z-index: 150;
        position: absolute;
        right: .5rem;
        top: 1rem;
        width: 1.2rem;
        height: 1.2rem;
        background: url(//gw.alicdn.com/tfs/TB1A6odl3vD8KJjy0FlXXagBFXa-48-47.png) no-repeat center center;
        background-size: 1.2rem auto;
    }

    .addBtn #btn .addBtn #close{
        z-index: 150;
    }

    #btn,#close,.info, .yuyue .title{
        -webkit-animation: showPage 0.5s 0.5s forwards;
    }

    .yuyue .title {
        width: 80%;
        top: 3rem;
        margin-left: -40%;
        z-index: 11;
        /*animation: atitle 8s infinite linear;*/
    }

    .yuyue .shan {
        width: 6.4rem;
        height: 5.1rem;
        top: 5.375rem;
        margin-left: 2.9rem;
        left: 0;
        z-index: 9;
        animation: ashan 12s infinite linear
    }

    .yuyue .renwu {
        width: 18.75rem;
        top: 2.7rem;
        left: 0;
        z-index: 10;
        animation: arenwu 3s infinite linear;
    }

    .yuyue .wumai {
        width: 18.75rem;
        bottom: 0;
        left: 0;
        z-index: 11;
        animation: awumai 10s infinite forwards ease-in;
        opacity: 0
    }

    @-webkit-keyframes atitle {
        0% {
            -webkit-transform: translateY(0);
        }
        25% {
            -webkit-transform: translateY(-1rem);
        }
        50% {
            -webkit-transform: translateY(0rem);
        }
        75% {
            -webkit-transform: translateY(-1rem);
        }
        100% {
            -webkit-transform: translateY(0rem);
        }
    }

    @-webkit-keyframes arenwu {
        0% {
            -webkit-transform: translateY(0);
        }

        50% {
            -webkit-transform: translateY(-0.7rem);
        }
        100% {
            -webkit-transform: translateY(0rem);
        }
    }

    @-webkit-keyframes ashan {
        0% {
            -webkit-transform: translateX(0);
        }
        50% {
            -webkit-transform: translateX(1.5rem);
        }
        100% {
            -webkit-transform: translateX(0rem);
        }
    }

    @-webkit-keyframes awumai {
        0% {
            -webkit-transform: translateX(-15rem);
            opacity: 1
        }
        80% {
            -webkit-transform: translateX(0rem);
            opacity: 1
        }
        100% {
            -webkit-transform: translateX(0rem);
            opacity: 0
        }
    }

    #wrapper .hbdiv {
        position: absolute;
        width: 5rem;
        height: 5rem;
        z-index: 12;
        -webkit-animation-iteration-count: infinite, infinite;
        -webkit-animation-direction: normal, normal;
        -webkit-animation-timing-function: linear, ease-in;
    }

    #wrapper .hbdiv img {
        position: absolute;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-direction: alternate;
        -webkit-animation-timing-function: ease-in-out;
        -webkit-transform-origin: 50% -100%;
    }

    @-webkit-keyframes fade {
        0% {
            opacity: 1;
        }
        95% {
            opacity: 1;
        }
        100% {
            opacity: 0;
        }
    }

    @-webkit-keyframes drop {
        0% {
            -webkit-transform: translate(0, -2.5rem);
        }
        100% {
            -webkit-transform: translate(0, 32.5rem);
        }
    }

    @-webkit-keyframes flyBlossoms {
        0% {
            -webkit-transform: translate(-2.5rem, 0);
        }
        100% {
            -webkit-transform: translate(22.5rem, -15rem);
        }
    }

    @-webkit-keyframes clockwiseSpin {
        0% {
            -webkit-transform: rotate(-50deg);
        }
        100% {
            -webkit-transform: rotate(50deg);
        }
    }

    @-webkit-keyframes counterclockwiseSpinAndFlip {
        0% {
            -webkit-transform: scale(-1, 1) rotate(50deg);
        }
        100% {
            -webkit-transform: scale(-1, 1) rotate(-50deg);
        }
    }

    #popwrap{
        z-index: 140;
        position: absolute;
        width: 13.7rem;
        height: 8.45rem;
        bottom: 8.55rem;
        left: 2.5rem;
        display: none;
    }

    #popwrap .popContent{
        position: absolute;
        bottom: 2.5rem;
        width: 13.7rem;
        text-align: center;
        font-size: 0.7rem;
        color: #ff3669;
    }

    #rainBox, #flyBox, #blossomsBox, #blossomsOutBox {
        position: absolute;
        bottom: 0;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    #blossomsBox, #blossomsOutBox {
        z-index: 130;
    }

    .blossom {
        opacity: 0;
        position: absolute;
        width: 2.5rem;
        height: 2.5rem;
    }

    .blossomShow .blossom1 {
        top: 16rem;
        left: 8rem;
        -webkit-transform: rotate(45deg) translate(0, 0) scale(14);
        -webkit-animation: blossom1In 0.4s forwards;
    }

    @-webkit-keyframes blossom1In {
        0% {
            opacity: 0;
            -webkit-transform: rotate(45deg) translate(0, 0) scale(14);
        }
        100% {
            opacity: 0.8;
            -webkit-transform: rotate(45deg) translate(0, 0) scale(1);
        }
    }

    .blossoms1, .blossoms1copy {
        position: absolute;
        bottom: 0;
        top: 16rem;
        left: 6rem;
        width: 7.5rem;
        height: 9.5rem;
        opacity: 0;
        -webkit-transform: scale(8);
    }

    .blossomShow .blossoms1 {
        -webkit-animation: blossoms1In 0.4s 0.1s forwards;
    }

    .blossomShow .blossoms1copy {
        -webkit-animation: blossoms1In 0.5s 0.2s forwards;
    }

    @-webkit-keyframes blossoms1In {
        20% {
            opacity: 0;
            -webkit-transform: scale(8);
        }
        100% {
            opacity: 1;
            -webkit-transform: scale(1);
        }
    }

    .blossoms {
        position: absolute;
        bottom: 0;
        top: 7rem;
        left: 2rem;
        width: 15.375rem;
        height: 13.425rem;
        opacity: 0;
        -webkit-transform: scale(8);
    }

    @-webkit-keyframes blossomsIn {
        20% {
            opacity: 0;
            -webkit-transform: scale(8);
        }
        100% {
            opacity: 0.8;
            -webkit-transform: scale(1);
        }
    }

    .blossomsbg {
        position: absolute;
        bottom: 0;
        left: 0;
        top: 0;
        width: 100%;
        opacity: 0;
        -webkit-transform: scale(4);
    }

    .blossomShow .blossomsbg {
        -webkit-animation: blossomIn 1.15s forwards;
    }

    @-webkit-keyframes blossomIn {
        50% {
            opacity: 0;
            -webkit-transform: scale(4);
        }
        100% {
            opacity: 1;
            -webkit-transform: scale(1);
        }
    }

    .outBlossoms{
        position: absolute;
        width: 18.75rem;
        opacity: 0;
    }

    @-webkit-keyframes showPage{
        0%{
            opacity: 0;
        }
        100%{
            opacity: 1;
        }
    }

    .hidePagee{animation:ahidePagee .5s forwards;}

    @-webkit-keyframes ahidePagee{
        0%{
            opacity: 1;
        }
        60% {
            opacity: 1;
        }
        100%{
            opacity: 0;
        }
    }

    .hideList #yuyue,
    .hideList #popwrap,
    .hideList #blossomsBox,
    .hideList #blossomsOutBox,
    .hideList #flyBox,
    .hideList #close,
    .hideList #info,
    .hideList #btn{
        display: none;
    }
    #container{background:rgba(255, 255, 255, .2); height: 100%; width: 100%}
    #inner{height: 100%; width: 100%;}
    .pic{display: block; width: 100%;}
</style>
</head>
<body data-noaplus>
<script>with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","clog=o&aplus&sidx=aplusSidx&ckx=aplusCkx",id="beacon-aplus",src="//g.alicdn.com/alilog/mlog/aplus_o.js")</script>
<div id="wrapper" class="hideList">
    <div id="container">
        <div id="inner">
            <div id="yuyue" class="yuyue">
                <div class="title"><img src="//gw.alicdn.com/tfs/TB1O9x3jOqAXuNjy1XdXXaYcVXa-817-371.png" class="pic"></div>
                <!-- <div class="shan"></div> -->
                <div class="renwu"><img src="//gw.alicdn.com/tfs/TB1J7_7l8TH8KJjy0FiXXcRsXXa-750-841.png" class="pic"></div>
                <div class="wumai"><img src="//gw.alicdn.com/tfs/TB1FYEpl26H8KJjy0FjXXaXepXa-750-392.png" class="pic"></div>
            </div>
            <!-- <div id="popwrap">
                <div id="popContent" class="popContent"></div>
            </div> -->

            <!-- <div id="blossomsBox" style="display: none;">
            </div>

            <div id="blossomsOutBox" class="showOutBox" style="display: none">
            </div> -->
            <div id="flyBox"></div>
            <div class="info" id="info"><img src="//gw.alicdn.com/tfs/TB1K9x3jOqAXuNjy1XdXXaYcVXa-445-189.png" class="pic"></div>
            <div class="button" id="btn"><img src="//gw.alicdn.com/tfs/TB1JrEpl26H8KJjy0FjXXaXepXa-330-103.png" class="pic"></div>
        </div>
        <div class="close" id="close"></div>
    </div>
    <div id="rainBox"></div>
    
</div>
<script src="//g.alicdn.com/hollywood/hollywood-lib/2.0.2/poplayer.js"></script>
<script src="//g.alicdn.com/hollywood/hollywood-lib/2.0.2/promise.js"></script>
<script>
window.HollywoodConfig = {
    actid: '315721', // 活动id，必填，埋点相关
    actpage: 'snowBaping', // 页面id，必填，埋点相关
}
if (document.documentElement.clientWidth < document.documentElement.clientHeight) {
    window.WindVane.call('WVPopLayer', 'display', {});
    window.HollywoodLog && window.HollywoodLog.expose('page.expose', '页面.曝光');
}
// 异步加载图片
var loadImg = function (url) {
    return new Promise(function (resolve, reject) {
        var img = new Image();
        img.src = url;
        img.onload = function () {
            resolve();
        };
        img.onerror = function () {
            console.log('图片错误');
            reject();
        };
    });
};
Promise.all([
    loadImg('//gw.alicdn.com/tfs/TB1J7_7l8TH8KJjy0FiXXcRsXXa-750-841.png'),
    loadImg('//gw.alicdn.com/tfs/TB1FYEpl26H8KJjy0FjXXaXepXa-750-392.png'),
    loadImg('//gw.alicdn.com/tfs/TB1JrEpl26H8KJjy0FjXXaXepXa-330-103.png'),
    loadImg('//gw.alicdn.com/tfs/TB1O9x3jOqAXuNjy1XdXXaYcVXa-817-371.png'),
    loadImg('//gw.alicdn.com/tfs/TB13uowl2DH8KJjy1XcXXcpdXXa-250-445.png'),
    loadImg('//gw.alicdn.com/tfs/TB1K9x3jOqAXuNjy1XdXXaYcVXa-445-189.png'),
    loadImg('//gw.alicdn.com/tfs/TB1A6odl3vD8KJjy0FlXXagBFXa-48-47.png'),
]).then(function () {
    console.log('图片加载完成')
    window.onload = start;
});
</script>
<script>
function rainPeach(id){
    const NUMBER_OF_LEAVES = 30;   
    function init()   
    {   
        var container = document.getElementById(id);
        for (var i = 0; i < NUMBER_OF_LEAVES; i++)    
        {   
            container.appendChild(createALeaf());   
        }   
    }   
    function randomInteger(low, high)   
    {   
        return low + Math.floor(Math.random() * (high - low));   
    }   
      
    function randomFloat(low, high)   
    {   
        return low + Math.random() * (high - low);   
    } 
    function pixelValue(value)   
    {   
        return value + 'rem';   
    }  
    function durationValue(value)   
    {   
        return value + 's';   
    }   
    function createALeaf()   
    {    
        var leafDiv = document.createElement('div');   
        var image = document.createElement('img');
        var leafRate = Math.random() * 1.2;
      
        image.src = '//g.alicdn.com/ku/app-upstatic/0.0.6/static/img/huaban' + randomInteger(1, 5) + '.png';
        image.style.width = leafRate * 1+'rem'
        image.style.height = leafRate * 1+'rem'
      
        leafDiv.style.top = "-1rem";
        leafDiv.className = 'hbdiv'
      
        leafDiv.style.left = pixelValue(randomInteger(0, 18.75));   
      
        var spinAnimationName = (Math.random() < 0.5) ? 'clockwiseSpin' : 'counterclockwiseSpinAndFlip';   
      
        leafDiv.style.webkitAnimationName = 'fade, drop';   
        image.style.webkitAnimationName = spinAnimationName;   
      
        var fadeAndDropDuration = durationValue(randomFloat(5, 11));   
      
        var spinDuration = durationValue(randomFloat(4, 8));   
        leafDiv.style.webkitAnimationDuration = fadeAndDropDuration + ', ' + fadeAndDropDuration;   
      
        var leafDelay = durationValue(randomFloat(0, 5));   
        leafDiv.style.webkitAnimationDelay = leafDelay + ', ' + leafDelay;   
      
        image.style.webkitAnimationDuration = spinDuration;   
      
        leafDiv.appendChild(image);   
      
        return leafDiv;   
    }  
    window.addEventListener('load', init, false);
    init()
}
function rainBlossom(parentObj,isHor){
    const NUMBER_OF_LEAVES = 50;
    
    function init()
    {
        var container = document.getElementById(parentObj);
        for (var i = 0; i < NUMBER_OF_LEAVES; i++)
        {
            container.appendChild(createALeaf());
        }
    }

    function randomInteger(low, high)
    {
        return low + Math.floor(Math.random() * (high - low));
    }
    
    function randomFloat(low, high)
    {
        return low + Math.random() * (high - low);
    }

    function durationValue(value)
    {
        return value + 's';
    }
    
    function createALeaf()
    {
        var leafDiv = document.createElement('div');
        var image = document.createElement('img');
        var leafRate = Math.random() * 1.2;
        var spinAnimationName = (Math.random() < 0.5) ? 'clockwiseSpin' : 'counterclockwiseSpinAndFlip';
        var fadeAndDropDuration;
        var spinDuration;
        
        image.src = '//g.alicdn.com/ku/app-upstatic/0.0.6/static/img/huaban' + randomInteger(1, 5) + '.png';
        image.style.width = leafRate * 2.5+'rem';
        image.style.height = leafRate * 2.5+'rem';

        leafDiv.className = 'hbdiv';
        
        if(isHor){
            leafDiv.style.top = randomInteger(0, 33)+'rem';
            leafDiv.style.left = '-5rem';
            fadeAndDropDuration = durationValue(randomFloat(1, 3));
            spinDuration = durationValue(randomFloat(1, 2));
            leafDiv.style.webkitAnimationName = 'fade, flyBlossoms';
        }else{
            leafDiv.style.top = "-2.5rem";
            leafDiv.style.left = randomInteger(0, 18)+'rem';
            fadeAndDropDuration = durationValue(randomFloat(5, 11));
            spinDuration = durationValue(randomFloat(4, 8));
            leafDiv.style.webkitAnimationName = 'fade, drop';
        }

        image.style.webkitAnimationName = spinAnimationName;

        
        leafDiv.style.webkitAnimationDuration = fadeAndDropDuration + ', ' + fadeAndDropDuration;

        image.style.webkitAnimationDuration = spinDuration;
        leafDiv.appendChild(image);
        return leafDiv;
    }

    init();
}
</script>
<script>
    var wrapDom = document.getElementById('wrapper');
    var containerDom = document.getElementById('container');
    var inner = document.getElementById('inner');
    var close = document.getElementById('close');
    var info = document.getElementById('info');
    var btn = document.getElementById('btn');
    // var popWrap = document.getElementById('popwrap');
    // var blossomsBox = document.getElementById('blossomsBox');
    // var blossomsOutBox = document.getElementById('blossomsOutBox');
    var flyBox = document.getElementById('flyBox');
    var yuyue = document.getElementById('yuyue');
    // var popContent = document.getElementById('popContent');
    var textList = [''];
    (function (doc, win) {
		// window.WindVane.call('WVPopLayer', 'increaseReadTimes', {}, function (s) {
  //           //成功增加打开次数
  //       }, function (e) {
  //           //打开失败
  //       });
        var docEl = doc.documentElement;
        var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';
        var clientWidth = docEl.clientWidth;
        var clientHeight = docEl.clientHeight;

        if (clientWidth > 0.78 * clientHeight) {
            clientWidth = 0.78 * clientHeight;
        }

        wrapDom.style.width = clientWidth + 'px';
        wrapDom.style.height = clientHeight + 'px';
        var recalc = function () {
            if (!clientWidth) return;
            docEl.style.fontSize = 20 * (clientWidth / 375) + 'px';
        };
        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);

    function randomInteger(low, high) {
        return low + Math.floor(Math.random() * (high - low));
    }
    function removeDom(){
        // containerDom.removeChild(popWrap);
        containerDom.removeChild(btn);
        containerDom.removeChild(info);
        containerDom.removeChild(yuyue);
        containerDom.removeChild(flyBox);
        // containerDom.removeChild(blossomsBox);
        // containerDom.removeChild(blossomsOutBox);
        containerDom.removeChild(close);
    }
    function hideCont() {
        // blossomsOutBox.style.display = 'none';
        close.className = 'hidePagee';
        document.getElementById('container').className = 'hidePagee';
        rainPeach('rainBox')
    }
    // 跳转播放页
    function jumpToPlay() {
        var ua = window.navigator.userAgent;
        var isIos = /iPhone|iPad/.test(ua);
        if(isIos) {
            window.WindVane.call('DYKBaseJSBridge', 'nativeOpen', {
                'url': `youku://playVideo?source=snowBP&half=1&s=5762e077e1d711e6acec`
            }, function (s) {
                //跳转成功
                window.HollywoodLog && window.HollywoodLog.click('jumTo.success', '跳转.成功');
            }, function (e) {
                console.log('跳转失败');
                window.HollywoodLog && window.HollywoodLog.click('jumTo.fail', '跳转.失败');
            });
        } else {
            window.WindVane.call('WVPopLayer', 'navToUrl', {
                'url': `youku://play?source=snowBP&showid=5762e077e1d711e6acec`
            }, function (s) {
                //跳转成功
                window.HollywoodLog && window.HollywoodLog.click('jumTo.success', '跳转.成功');
            }, function (e) {
                //跳转失败
                console.log('跳转失败');
                window.HollywoodLog && window.HollywoodLog.click('jumTo.fail', '跳转.失败');
            });
        }
    }
    function start() {
        window.HollywoodLog && window.HollywoodLog.expose('content.show', '内容.显示');
        var randomNum = randomInteger(0, 10);
        var showText = '由于颜值过高 运势无法预告';
        var hideTimer;
        var judge = window.localStorage.getItem("isFirst") || 0;

        wrapDom.classList.add('show');

        // blossomsBox.classList.add('blossomShow');
        showText = textList[randomNum];
        // popContent.innerText = showText;
        if(!!judge && parseInt(judge) >= 1){
            //rainBlossom('rainBox', false);
            rainPeach('rainBox')
            removeDom();
        }else{
            window.localStorage.setItem("isFirst", ++judge);
            wrapDom.classList.remove('hideList');
            rainBlossom('flyBox', true);
        }
        localStorage.clear();

        close.addEventListener('touchend', function (event) {
            event.preventDefault();
            //rainBlossom('rainBox', false);
            window.HollywoodLog && window.HollywoodLog.click('close.click', '关闭.点击');
            hideCont()
            
        }, false);

        inner.addEventListener('touchstart', function () {
            // popWrap.style.display = 'block';
            window.HollywoodLog && window.HollywoodLog.click('jump.click', '跳转.点击');
            hideCont();
            jumpToPlay();
        });
        setTimeout(function() {
            hideCont()
        }, 6000)

    }
    
</script>
</body>
</html>
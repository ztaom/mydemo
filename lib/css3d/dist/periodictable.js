!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("CSS3D",[],n):"object"==typeof exports?exports.CSS3D=n():t.CSS3D=n()}(this,function(){return function(t){function n(e){if(a[e])return a[e].exports;var r=a[e]={exports:{},id:e,loaded:!1};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var a={};return n.m=t,n.c=a,n.p="",n(0)}([function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,n){x.default.removeAll();for(var a=function(a){var e=D[a].position,r=D[a].euler,o=t[a].position,i=t[a].euler;new x.default.Tween({x:e[0],y:e[1],z:e[2]}).to({x:o[0],y:o[1],z:o[2]},Math.random()*n+n).onUpdate(function(){D[a].position=[this.x,this.y,this.z]}).easing(x.default.Easing.Exponential.InOut).start(),new x.default.Tween({x:r[0],y:r[1],z:r[2]}).to({x:i[0],y:i[1],z:i[2]},Math.random()*n+n).onUpdate(function(){D[a].euler=[this.x,this.y,this.z]}).easing(x.default.Easing.Exponential.InOut).start()},e=0;e<D.length;e++)a(e)}function o(){y.render()}function i(){b.begin(),x.default.update(),o(),requestAnimationFrame(i),b.end()}a(40);var u=a(41),l=e(u),s=a(42),c=e(s),h=a(43),f=e(h),M=(a(5),a(2)),d=a(21),m=(e(d),a(26)),x=e(m),p=a(27),S=e(p),I=a(20),v=e(I),D=[],F={table:[],sphere:[],helix:[],grid:[]},b=new S.default;b.domElement.style.transformOrigin="top left",b.domElement.style.position="absolute",document.body.appendChild(b.domElement);var y=(new M.Scene).size(window.innerWidth,window.innerHeight);y.camera.perspective(40).translateTo([0,0,3e3]);var w=-200,g=0,_=0;new v.default(y.dom).panSetup(.005,.01).panAuto(50,0).onPan(function(t,n){g=n,_=t}).zoomSetup(2e3,1e-4).zoomAuto(.02).onZoom(function(t){w+=t});for(var E=0;E<l.default.length;E+=5){var z=(new M.Obj).translateTo([4e3*Math.random()-2e3,4e3*Math.random()-2e3,4e3*Math.random()-2e3]),P=z.dom;P.className="element",P.style.backgroundColor="rgba(0,127,127,"+(.5*Math.random()+.25)+")";var O=document.createElement("div");O.className="number",O.textContent=E/5+1,P.appendChild(O);var A=document.createElement("div");A.className="symbol",A.textContent=l.default[E],P.appendChild(A);var T=document.createElement("div");T.className="details",T.innerHTML=l.default[E+1]+"<br>"+l.default[E+2],P.appendChild(T),y.addChild(z),D.push(z);var L=(new M.Obj).translateTo([140*l.default[E+3]-1330,-(180*l.default[E+4])+990,0]);F.table.push(L)}for(var R=new c.default,q=0,C=D.length;q<C;q++){var N=Math.acos(-1+2*q/C),k=Math.sqrt(C*Math.PI)*N;R.set(800,N,k);var Y=Math.sin(R.phi)*R.radius,j=Y*Math.sin(R.theta),B=Math.cos(R.phi)*R.radius,U=Y*Math.cos(R.theta),Z=(new M.Obj).translateTo([j,B,U]);Z.lookAt([2*j,2*B,2*U]),F.sphere.push(Z)}for(var V=new f.default,H=0,X=D.length;H<X;H++){var Q=.175*H+Math.PI,G=-(8*H)+450,K=new M.Obj;V.set(900,Q,G);var W=V.radius*Math.sin(V.theta),J=V.y,$=V.radius*Math.cos(V.theta);K.position=[W,J,$],K.lookAt([2*W,J,2*$]),F.helix.push(K)}for(var tt=0;tt<D.length;tt++){var nt=new M.Obj,at=tt%5*400-800,et=400*-(Math.floor(tt/5)%5)+800,rt=1e3*Math.floor(tt/25)-2e3;nt.position=[at,et,rt],F.grid.push(nt)}document.getElementById("container").appendChild(y.dom);var ot=document.getElementById("table");ot.addEventListener("click",function(t){r(F.table,2e3)},!1),ot=document.getElementById("sphere"),ot.addEventListener("click",function(t){r(F.sphere,2e3)},!1),ot=document.getElementById("helix"),ot.addEventListener("click",function(t){r(F.helix,2e3)},!1),ot=document.getElementById("grid"),ot.addEventListener("click",function(t){r(F.grid,2e3)},!1),r(F.helix,2e3),i()},,function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var r=a(3),o=e(r),i=a(18),u=e(i);t.exports={Obj:o.default,Scene:u.default}},function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),i=a(4),u=e(i),l=a(16),s=e(l),c=a(17),h=e(c),f=function(){function t(n){r(this,t),n||(n={}),this.dom=document.createElement(n.htmlTag||"div"),this.dom.style.position="absolute",this.docfrag=document.createDocumentFragment(),this.children=[],this._isDomInserted=!1,this._position(),this._rotation()}return o(t,null,[{key:"implements",value:function(n){for(var a in n)t.prototype[a]=n[a]}}]),o(t,[{key:"render",value:function(){this._isDomInserted||(this.dom.appendChild(this.docfrag),this._isDomInserted=!0),this.children&&this.children.length>0&&this.children.forEach(function(t){t.render()}),this.dom.style.transform=this.dom.style.webkitTransform=this.css()}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(t){return this._isDomInserted?this.dom.appendChild(t.dom):this.docfrag.appendChild(t.dom),this.children.push(t),this}},{key:"removeChild",value:function(t){return this}}]),t}();n.default=f,f.implements(u.default),f.implements(s.default),f.implements(h.default)},function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var r=a(5),o=a(15),i=e(o);t.exports={scale:function(t){var n=this.mat;return r.mat4.scale(n,n,t),this},_position:function(){var t=this;return this.mat=r.mat4.create(),this._position=[0,0,0],this.up=[0,1,0],Object.defineProperties(this,{position:{set:function(n){t.mat[12]=n[0],t.mat[13]=n[1],t.mat[14]=n[2],t._position=n},get:function(){return t._position}}}),this},translateTo:function(t){return t?(this.position=[t[0],t[1],t[2]],this):this},translate:function(t){if(!t)return this;var n=this.mat,a=this._position;return r.mat4.translate(n,n,t),t.forEach(function(n,e){a[e]+=t[e]}),this},_getQuaternionsFromEuler:function(t){var n=Math.cos,a=Math.sin,e=t[0],r=t[1],o=t[2],i=n(.5*o),u=a(.5*o),l=n(.5*e),s=a(.5*e),c=n(.5*r),h=a(.5*r),f=i*l*c+u*s*h,M=-(i*s*c-u*l*h),d=-(i*l*h+u*s*c),m=-(u*l*c-i*s*h);return[M,d,m,f]},_rotation:function(){var t=this;this.quaternion=[0,0,0,0],this._euler=[0,0,0],Object.defineProperties(this,{euler:{set:function(n){var a=t._getQuaternionsFromEuler(n);r.mat4.create();r.mat4.fromRotationTranslation(t.mat,a,[t.mat[12],t.mat[13],t.mat[14]]),t._euler=n},get:function(){return t._euler}}})},_getQuaternionFromMatrix:function(t){var n=r.quat.create();return r.mat4.getRotation(n,t||this.mat),n},_getEulerFromQuaternion:function(t){var n=t[1]*t[1],a=2*(t[3]*t[0]+t[1]*t[2]),e=1-2*(t[0]*t[0]+n),r=Math.atan2(a,e),o=2*(t[3]*t[1]-t[2]*t[0]);o=o>1?1:o,o=o<-1?-1:o;var i=Math.asin(o),u=2*(t[3]*t[2]+t[0]*t[1]),l=1-2*(n+t[2]*t[2]),s=Math.atan2(u,l);return[r,i,s]},rotateTo:function(t){return void 0===t?this:(this.euler=[t[0],t[1],t[2]],this)},rotate:function(t,n){if(void 0===t)return this;var a=this.mat;return r.mat4.rotate(a,a,t,n),this.quaternion=this._getQuaternionFromMatrix(),this._euler=this._getEulerFromQuaternion(this.quaternion),this},lookAt:function(t){var n=r.mat4.create();return r.mat4.lookAt(n,t,this._position,this.up),r.mat4.translate(n,n,[this.mat[12],this.mat[13],this.mat[14]]),r.mat4.copy(this.mat,n),this.quaternion=this._getQuaternionFromMatrix(),this._euler=this._getEulerFromQuaternion(this.quaternion),this},matrix:function(t){return this.mat=t,this},css:function(){var t="",n=r.mat4.create();return r.mat4.copy(n,this.mat),this._isSceneObj&&(t="translate3d(-50%,-50%,0) ",n[4]=-n[4],n[5]=-n[5],n[6]=-n[6],n[7]=-n[7]),t+=(0,i.default)(n)}}},function(t,n,a){n.glMatrix=a(6),n.mat2=a(7),n.mat2d=a(8),n.mat3=a(9),n.mat4=a(10),n.quat=a(11),n.vec2=a(14),n.vec3=a(12),n.vec4=a(13)},function(t,n){var a={};a.EPSILON=1e-6,a.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,a.RANDOM=Math.random,a.ENABLE_SIMD=!1,a.SIMD_AVAILABLE=a.ARRAY_TYPE===Float32Array&&"SIMD"in this,a.USE_SIMD=a.ENABLE_SIMD&&a.SIMD_AVAILABLE,a.setMatrixArrayType=function(t){a.ARRAY_TYPE=t};var e=Math.PI/180;a.toRadian=function(t){return t*e},a.equals=function(t,n){return Math.abs(t-n)<=a.EPSILON*Math.max(1,Math.abs(t),Math.abs(n))},t.exports=a},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var n=new e.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.fromValues=function(t,n,a,r){var o=new e.ARRAY_TYPE(4);return o[0]=t,o[1]=n,o[2]=a,o[3]=r,o},r.set=function(t,n,a,e,r){return t[0]=n,t[1]=a,t[2]=e,t[3]=r,t},r.transpose=function(t,n){if(t===n){var a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},r.invert=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=a*o-r*e;return i?(i=1/i,t[0]=o*i,t[1]=-e*i,t[2]=-r*i,t[3]=a*i,t):null},r.adjoint=function(t,n){var a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=a[0],l=a[1],s=a[2],c=a[3];return t[0]=e*u+o*l,t[1]=r*u+i*l,t[2]=e*s+o*c,t[3]=r*s+i*c,t},r.mul=r.multiply,r.rotate=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=Math.sin(a),l=Math.cos(a);return t[0]=e*l+o*u,t[1]=r*l+i*u,t[2]=e*-u+o*l,t[3]=r*-u+i*l,t},r.scale=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=a[0],l=a[1];return t[0]=e*u,t[1]=r*u,t[2]=o*l,t[3]=i*l,t},r.fromRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=a,t[2]=-a,t[3]=e,t},r.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,n,a,e){return t[2]=e[2]/e[0],a[0]=e[0],a[1]=e[1],a[3]=e[3]-t[2]*a[1],[t,n,a]},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t},r.sub=r.subtract,r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=t[3],u=n[0],l=n[1],s=n[2],c=n[3];return Math.abs(a-u)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(r-l)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-s)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},r.multiplyScalar=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t},r.multiplyScalarAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t[3]=n[3]+a[3]*e,t},t.exports=r},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var n=new e.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.fromValues=function(t,n,a,r,o,i){var u=new e.ARRAY_TYPE(6);return u[0]=t,u[1]=n,u[2]=a,u[3]=r,u[4]=o,u[5]=i,u},r.set=function(t,n,a,e,r,o,i){return t[0]=n,t[1]=a,t[2]=e,t[3]=r,t[4]=o,t[5]=i,t},r.invert=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=a*o-e*r;return l?(l=1/l,t[0]=o*l,t[1]=-e*l,t[2]=-r*l,t[3]=a*l,t[4]=(r*u-o*i)*l,t[5]=(e*i-a*u)*l,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=a[0],c=a[1],h=a[2],f=a[3],M=a[4],d=a[5];return t[0]=e*s+o*c,t[1]=r*s+i*c,t[2]=e*h+o*f,t[3]=r*h+i*f,t[4]=e*M+o*d+u,t[5]=r*M+i*d+l,t},r.mul=r.multiply,r.rotate=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=Math.sin(a),c=Math.cos(a);return t[0]=e*c+o*s,t[1]=r*c+i*s,t[2]=e*-s+o*c,t[3]=r*-s+i*c,t[4]=u,t[5]=l,t},r.scale=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=a[0],c=a[1];return t[0]=e*s,t[1]=r*s,t[2]=o*c,t[3]=i*c,t[4]=u,t[5]=l,t},r.translate=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=a[0],c=a[1];return t[0]=e,t[1]=r,t[2]=o,t[3]=i,t[4]=e*s+o*c+u,t[5]=r*s+i*c+l,t},r.fromRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=a,t[2]=-a,t[3]=e,t[4]=0,t[5]=0,t},r.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t},r.sub=r.subtract,r.multiplyScalar=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t},r.multiplyScalarAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t[3]=n[3]+a[3]*e,t[4]=n[4]+a[4]*e,t[5]=n[5]+a[5]*e,t},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=n[0],c=n[1],h=n[2],f=n[3],M=n[4],d=n[5];return Math.abs(a-s)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(r-c)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-h)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-f)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(u-M)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-d)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},t.exports=r},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},r.clone=function(t){var n=new e.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},r.fromValues=function(t,n,a,r,o,i,u,l,s){var c=new e.ARRAY_TYPE(9);return c[0]=t,c[1]=n,c[2]=a,c[3]=r,c[4]=o,c[5]=i,c[6]=u,c[7]=l,c[8]=s,c},r.set=function(t,n,a,e,r,o,i,u,l,s){return t[0]=n,t[1]=a,t[2]=e,t[3]=r,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,n){if(t===n){var a=n[1],e=n[2],r=n[5];t[1]=n[3],t[2]=n[6],t[3]=a,t[5]=n[7],t[6]=e,t[7]=r}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},r.invert=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=n[6],s=n[7],c=n[8],h=c*i-u*s,f=-c*o+u*l,M=s*o-i*l,d=a*h+e*f+r*M;return d?(d=1/d,t[0]=h*d,t[1]=(-c*e+r*s)*d,t[2]=(u*e-r*i)*d,t[3]=f*d,t[4]=(c*a-r*l)*d,t[5]=(-u*a+r*o)*d,t[6]=M*d,t[7]=(-s*a+e*l)*d,t[8]=(i*a-e*o)*d,t):null},r.adjoint=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=n[6],s=n[7],c=n[8];return t[0]=i*c-u*s,t[1]=r*s-e*c,t[2]=e*u-r*i,t[3]=u*l-o*c,t[4]=a*c-r*l,t[5]=r*o-a*u,t[6]=o*s-i*l,t[7]=e*l-a*s,t[8]=a*i-e*o,t},r.determinant=function(t){var n=t[0],a=t[1],e=t[2],r=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8];return n*(s*o-i*l)+a*(-s*r+i*u)+e*(l*r-o*u)},r.multiply=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=n[6],c=n[7],h=n[8],f=a[0],M=a[1],d=a[2],m=a[3],x=a[4],p=a[5],S=a[6],I=a[7],v=a[8];return t[0]=f*e+M*i+d*s,t[1]=f*r+M*u+d*c,t[2]=f*o+M*l+d*h,t[3]=m*e+x*i+p*s,t[4]=m*r+x*u+p*c,t[5]=m*o+x*l+p*h,t[6]=S*e+I*i+v*s,t[7]=S*r+I*u+v*c,t[8]=S*o+I*l+v*h,t},r.mul=r.multiply,r.translate=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=n[6],c=n[7],h=n[8],f=a[0],M=a[1];return t[0]=e,t[1]=r,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=f*e+M*i+s,t[7]=f*r+M*u+c,t[8]=f*o+M*l+h,t},r.rotate=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=n[6],c=n[7],h=n[8],f=Math.sin(a),M=Math.cos(a);return t[0]=M*e+f*i,t[1]=M*r+f*u,t[2]=M*o+f*l,t[3]=M*i-f*e,t[4]=M*u-f*r,t[5]=M*l-f*o,t[6]=s,t[7]=c,t[8]=h,t},r.scale=function(t,n,a){var e=a[0],r=a[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=r*n[3],t[4]=r*n[4],t[5]=r*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},r.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},r.fromRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=a,t[2]=0,t[3]=-a,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},r.fromQuat=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=a+a,u=e+e,l=r+r,s=a*i,c=e*i,h=e*u,f=r*i,M=r*u,d=r*l,m=o*i,x=o*u,p=o*l;return t[0]=1-h-d,t[3]=c-p,t[6]=f+x,t[1]=c+p,t[4]=1-s-d,t[7]=M-m,t[2]=f-x,t[5]=M+m,t[8]=1-s-h,t},r.normalFromMat4=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=n[6],s=n[7],c=n[8],h=n[9],f=n[10],M=n[11],d=n[12],m=n[13],x=n[14],p=n[15],S=a*u-e*i,I=a*l-r*i,v=a*s-o*i,D=e*l-r*u,F=e*s-o*u,b=r*s-o*l,y=c*m-h*d,w=c*x-f*d,g=c*p-M*d,_=h*x-f*m,E=h*p-M*m,z=f*p-M*x,P=S*z-I*E+v*_+D*g-F*w+b*y;return P?(P=1/P,t[0]=(u*z-l*E+s*_)*P,t[1]=(l*g-i*z-s*w)*P,t[2]=(i*E-u*g+s*y)*P,t[3]=(r*E-e*z-o*_)*P,t[4]=(a*z-r*g+o*w)*P,t[5]=(e*g-a*E-o*y)*P,t[6]=(m*b-x*F+p*D)*P,t[7]=(x*v-d*b-p*I)*P,t[8]=(d*F-m*v+p*S)*P,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t},r.sub=r.subtract,r.multiplyScalar=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t},r.multiplyScalarAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t[3]=n[3]+a[3]*e,t[4]=n[4]+a[4]*e,t[5]=n[5]+a[5]*e,t[6]=n[6]+a[6]*e,t[7]=n[7]+a[7]*e,t[8]=n[8]+a[8]*e,t},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],h=t[8],f=n[0],M=n[1],d=n[2],m=n[3],x=n[4],p=n[5],S=t[6],I=n[7],v=n[8];return Math.abs(a-f)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(r-M)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(o-d)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-m)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(u-x)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(l-p)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(s-S)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(c-I)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(h-v)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))},t.exports=r},function(t,n,a){var e=a(6),r={scalar:{},SIMD:{}};r.create=function(){var t=new e.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var n=new e.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},r.fromValues=function(t,n,a,r,o,i,u,l,s,c,h,f,M,d,m,x){var p=new e.ARRAY_TYPE(16);return p[0]=t,p[1]=n,p[2]=a,p[3]=r,p[4]=o,p[5]=i,p[6]=u,p[7]=l,p[8]=s,p[9]=c,p[10]=h,p[11]=f,p[12]=M,p[13]=d,p[14]=m,p[15]=x,p},r.set=function(t,n,a,e,r,o,i,u,l,s,c,h,f,M,d,m,x){return t[0]=n,t[1]=a,t[2]=e,t[3]=r,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t[9]=c,t[10]=h,t[11]=f,t[12]=M,t[13]=d,t[14]=m,t[15]=x,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,n){if(t===n){var a=n[1],e=n[2],r=n[3],o=n[6],i=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=a,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=o,t[11]=n[14],t[12]=r,t[13]=i,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},r.SIMD.transpose=function(t,n){var a,e,r,o,i,u,l,s,c,h;return a=SIMD.Float32x4.load(n,0),e=SIMD.Float32x4.load(n,4),r=SIMD.Float32x4.load(n,8),o=SIMD.Float32x4.load(n,12),i=SIMD.Float32x4.shuffle(a,e,0,1,4,5),u=SIMD.Float32x4.shuffle(r,o,0,1,4,5),l=SIMD.Float32x4.shuffle(i,u,0,2,4,6),s=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),i=SIMD.Float32x4.shuffle(a,e,2,3,6,7),u=SIMD.Float32x4.shuffle(r,o,2,3,6,7),c=SIMD.Float32x4.shuffle(i,u,0,2,4,6),h=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,h),t},r.transpose=e.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=n[6],s=n[7],c=n[8],h=n[9],f=n[10],M=n[11],d=n[12],m=n[13],x=n[14],p=n[15],S=a*u-e*i,I=a*l-r*i,v=a*s-o*i,D=e*l-r*u,F=e*s-o*u,b=r*s-o*l,y=c*m-h*d,w=c*x-f*d,g=c*p-M*d,_=h*x-f*m,E=h*p-M*m,z=f*p-M*x,P=S*z-I*E+v*_+D*g-F*w+b*y;return P?(P=1/P,t[0]=(u*z-l*E+s*_)*P,t[1]=(r*E-e*z-o*_)*P,t[2]=(m*b-x*F+p*D)*P,t[3]=(f*F-h*b-M*D)*P,t[4]=(l*g-i*z-s*w)*P,t[5]=(a*z-r*g+o*w)*P,t[6]=(x*v-d*b-p*I)*P,t[7]=(c*b-f*v+M*I)*P,t[8]=(i*E-u*g+s*y)*P,t[9]=(e*g-a*E-o*y)*P,t[10]=(d*F-m*v+p*S)*P,t[11]=(h*v-c*F-M*S)*P,t[12]=(u*w-i*_-l*y)*P,t[13]=(a*_-e*w+r*y)*P,t[14]=(m*I-d*D-x*S)*P,t[15]=(c*D-h*I+f*S)*P,t):null},r.SIMD.invert=function(t,n){var a,e,r,o,i,u,l,s,c,h,f=SIMD.Float32x4.load(n,0),M=SIMD.Float32x4.load(n,4),d=SIMD.Float32x4.load(n,8),m=SIMD.Float32x4.load(n,12);return i=SIMD.Float32x4.shuffle(f,M,0,1,4,5),e=SIMD.Float32x4.shuffle(d,m,0,1,4,5),a=SIMD.Float32x4.shuffle(i,e,0,2,4,6),e=SIMD.Float32x4.shuffle(e,i,1,3,5,7),i=SIMD.Float32x4.shuffle(f,M,2,3,6,7),o=SIMD.Float32x4.shuffle(d,m,2,3,6,7),r=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(r,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.mul(e,i),l=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,i),u),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(e,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),u),s=SIMD.Float32x4.mul(a,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,i)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(a,e),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,i)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),s),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.mul(a,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(e,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,i),c),h=SIMD.Float32x4.mul(a,u),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,2,3,0,1),h),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,1,0,3,2),h),i=SIMD.Float32x4.reciprocalApproximation(h),h=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(h,SIMD.Float32x4.mul(i,i))),(h=SIMD.Float32x4.swizzle(h,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(h,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(h,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(h,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(h,c)),t):null},r.invert=e.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=n[4],u=n[5],l=n[6],s=n[7],c=n[8],h=n[9],f=n[10],M=n[11],d=n[12],m=n[13],x=n[14],p=n[15];return t[0]=u*(f*p-M*x)-h*(l*p-s*x)+m*(l*M-s*f),t[1]=-(e*(f*p-M*x)-h*(r*p-o*x)+m*(r*M-o*f)),t[2]=e*(l*p-s*x)-u*(r*p-o*x)+m*(r*s-o*l),t[3]=-(e*(l*M-s*f)-u*(r*M-o*f)+h*(r*s-o*l)),t[4]=-(i*(f*p-M*x)-c*(l*p-s*x)+d*(l*M-s*f)),t[5]=a*(f*p-M*x)-c*(r*p-o*x)+d*(r*M-o*f),t[6]=-(a*(l*p-s*x)-i*(r*p-o*x)+d*(r*s-o*l)),t[7]=a*(l*M-s*f)-i*(r*M-o*f)+c*(r*s-o*l),t[8]=i*(h*p-M*m)-c*(u*p-s*m)+d*(u*M-s*h),t[9]=-(a*(h*p-M*m)-c*(e*p-o*m)+d*(e*M-o*h)),t[10]=a*(u*p-s*m)-i*(e*p-o*m)+d*(e*s-o*u),t[11]=-(a*(u*M-s*h)-i*(e*M-o*h)+c*(e*s-o*u)),t[12]=-(i*(h*x-f*m)-c*(u*x-l*m)+d*(u*f-l*h)),t[13]=a*(h*x-f*m)-c*(e*x-r*m)+d*(e*f-r*h),t[14]=-(a*(u*x-l*m)-i*(e*x-r*m)+d*(e*l-r*u)),t[15]=a*(u*f-l*h)-i*(e*f-r*h)+c*(e*l-r*u),t},r.SIMD.adjoint=function(t,n){var a,e,r,o,i,u,l,s,c,h,f,M,d,a=SIMD.Float32x4.load(n,0),e=SIMD.Float32x4.load(n,4),r=SIMD.Float32x4.load(n,8),o=SIMD.Float32x4.load(n,12);return c=SIMD.Float32x4.shuffle(a,e,0,1,4,5),u=SIMD.Float32x4.shuffle(r,o,0,1,4,5),i=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.shuffle(a,e,2,3,6,7),s=SIMD.Float32x4.shuffle(r,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(l,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.mul(u,c),f=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),d=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),M=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(i,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),d),SIMD.Float32x4.store(t,0,h),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,d),t},r.adjoint=e.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var n=t[0],a=t[1],e=t[2],r=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8],c=t[9],h=t[10],f=t[11],M=t[12],d=t[13],m=t[14],x=t[15],p=n*i-a*o,S=n*u-e*o,I=n*l-r*o,v=a*u-e*i,D=a*l-r*i,F=e*l-r*u,b=s*d-c*M,y=s*m-h*M,w=s*x-f*M,g=c*m-h*d,_=c*x-f*d,E=h*x-f*m;return p*E-S*_+I*g+v*w-D*y+F*b},r.SIMD.multiply=function(t,n,a){var e=SIMD.Float32x4.load(n,0),r=SIMD.Float32x4.load(n,4),o=SIMD.Float32x4.load(n,8),i=SIMD.Float32x4.load(n,12),u=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),i))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,4,c);var h=SIMD.Float32x4.load(a,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),i))));SIMD.Float32x4.store(t,8,f);var M=SIMD.Float32x4.load(a,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,d),t},r.scalar.multiply=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=n[6],c=n[7],h=n[8],f=n[9],M=n[10],d=n[11],m=n[12],x=n[13],p=n[14],S=n[15],I=a[0],v=a[1],D=a[2],F=a[3];return t[0]=I*e+v*u+D*h+F*m,t[1]=I*r+v*l+D*f+F*x,t[2]=I*o+v*s+D*M+F*p,t[3]=I*i+v*c+D*d+F*S,I=a[4],v=a[5],D=a[6],F=a[7],t[4]=I*e+v*u+D*h+F*m,t[5]=I*r+v*l+D*f+F*x,t[6]=I*o+v*s+D*M+F*p,t[7]=I*i+v*c+D*d+F*S,I=a[8],v=a[9],D=a[10],F=a[11],t[8]=I*e+v*u+D*h+F*m,t[9]=I*r+v*l+D*f+F*x,t[10]=I*o+v*s+D*M+F*p,t[11]=I*i+v*c+D*d+F*S,I=a[12],v=a[13],D=a[14],F=a[15],t[12]=I*e+v*u+D*h+F*m,t[13]=I*r+v*l+D*f+F*x,t[14]=I*o+v*s+D*M+F*p,t[15]=I*i+v*c+D*d+F*S,t},r.multiply=e.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,n,a){var e,r,o,i,u,l,s,c,h,f,M,d,m=a[0],x=a[1],p=a[2];return n===t?(t[12]=n[0]*m+n[4]*x+n[8]*p+n[12],t[13]=n[1]*m+n[5]*x+n[9]*p+n[13],t[14]=n[2]*m+n[6]*x+n[10]*p+n[14],t[15]=n[3]*m+n[7]*x+n[11]*p+n[15]):(e=n[0],r=n[1],o=n[2],i=n[3],u=n[4],l=n[5],s=n[6],c=n[7],h=n[8],f=n[9],M=n[10],d=n[11],t[0]=e,t[1]=r,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=s,t[7]=c,t[8]=h,t[9]=f,t[10]=M,t[11]=d,t[12]=e*m+u*x+h*p+n[12],t[13]=r*m+l*x+f*p+n[13],t[14]=o*m+s*x+M*p+n[14],t[15]=i*m+c*x+d*p+n[15]),t},r.SIMD.translate=function(t,n,a){var e=SIMD.Float32x4.load(n,0),r=SIMD.Float32x4.load(n,4),o=SIMD.Float32x4.load(n,8),i=SIMD.Float32x4.load(n,12),u=SIMD.Float32x4(a[0],a[1],a[2],0);
n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11]),e=SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(u,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2));var l=SIMD.Float32x4.add(e,SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,l),t},r.translate=e.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,n,a){var e=a[0],r=a[1],o=a[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},r.SIMD.scale=function(t,n,a){var e,r,o,i=SIMD.Float32x4(a[0],a[1],a[2],0);return e=SIMD.Float32x4.load(n,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(i,0,0,0,0))),r=SIMD.Float32x4.load(n,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(n,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},r.scale=e.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,n,a,r){var o,i,u,l,s,c,h,f,M,d,m,x,p,S,I,v,D,F,b,y,w,g,_,E,z=r[0],P=r[1],O=r[2],A=Math.sqrt(z*z+P*P+O*O);return Math.abs(A)<e.EPSILON?null:(A=1/A,z*=A,P*=A,O*=A,o=Math.sin(a),i=Math.cos(a),u=1-i,l=n[0],s=n[1],c=n[2],h=n[3],f=n[4],M=n[5],d=n[6],m=n[7],x=n[8],p=n[9],S=n[10],I=n[11],v=z*z*u+i,D=P*z*u+O*o,F=O*z*u-P*o,b=z*P*u-O*o,y=P*P*u+i,w=O*P*u+z*o,g=z*O*u+P*o,_=P*O*u-z*o,E=O*O*u+i,t[0]=l*v+f*D+x*F,t[1]=s*v+M*D+p*F,t[2]=c*v+d*D+S*F,t[3]=h*v+m*D+I*F,t[4]=l*b+f*y+x*w,t[5]=s*b+M*y+p*w,t[6]=c*b+d*y+S*w,t[7]=h*b+m*y+I*w,t[8]=l*g+f*_+x*E,t[9]=s*g+M*_+p*E,t[10]=c*g+d*_+S*E,t[11]=h*g+m*_+I*E,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},r.scalar.rotateX=function(t,n,a){var e=Math.sin(a),r=Math.cos(a),o=n[4],i=n[5],u=n[6],l=n[7],s=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*r+s*e,t[5]=i*r+c*e,t[6]=u*r+h*e,t[7]=l*r+f*e,t[8]=s*r-o*e,t[9]=c*r-i*e,t[10]=h*r-u*e,t[11]=f*r-l*e,t},r.SIMD.rotateX=function(t,n,a){var e=SIMD.Float32x4.splat(Math.sin(a)),r=SIMD.Float32x4.splat(Math.cos(a));n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);var o=SIMD.Float32x4.load(n,4),i=SIMD.Float32x4.load(n,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(o,e))),t},r.rotateX=e.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,n,a){var e=Math.sin(a),r=Math.cos(a),o=n[0],i=n[1],u=n[2],l=n[3],s=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*r-s*e,t[1]=i*r-c*e,t[2]=u*r-h*e,t[3]=l*r-f*e,t[8]=o*e+s*r,t[9]=i*e+c*r,t[10]=u*e+h*r,t[11]=l*e+f*r,t},r.SIMD.rotateY=function(t,n,a){var e=SIMD.Float32x4.splat(Math.sin(a)),r=SIMD.Float32x4.splat(Math.cos(a));n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);var o=SIMD.Float32x4.load(n,0),i=SIMD.Float32x4.load(n,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,e),SIMD.Float32x4.mul(i,r))),t},r.rotateY=e.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,n,a){var e=Math.sin(a),r=Math.cos(a),o=n[0],i=n[1],u=n[2],l=n[3],s=n[4],c=n[5],h=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*r+s*e,t[1]=i*r+c*e,t[2]=u*r+h*e,t[3]=l*r+f*e,t[4]=s*r-o*e,t[5]=c*r-i*e,t[6]=h*r-u*e,t[7]=f*r-l*e,t},r.SIMD.rotateZ=function(t,n,a){var e=SIMD.Float32x4.splat(Math.sin(a)),r=SIMD.Float32x4.splat(Math.cos(a));n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);var o=SIMD.Float32x4.load(n,0),i=SIMD.Float32x4.load(n,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,e))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(o,e))),t},r.rotateZ=e.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,n,a){var r,o,i,u=a[0],l=a[1],s=a[2],c=Math.sqrt(u*u+l*l+s*s);return Math.abs(c)<e.EPSILON?null:(c=1/c,u*=c,l*=c,s*=c,r=Math.sin(n),o=Math.cos(n),i=1-o,t[0]=u*u*i+o,t[1]=l*u*i+s*r,t[2]=s*u*i-l*r,t[3]=0,t[4]=u*l*i-s*r,t[5]=l*l*i+o,t[6]=s*l*i+u*r,t[7]=0,t[8]=u*s*i+l*r,t[9]=l*s*i-u*r,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,n){var a=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=e+e,l=r+r,s=o+o,c=e*u,h=e*l,f=e*s,M=r*l,d=r*s,m=o*s,x=i*u,p=i*l,S=i*s;return t[0]=1-(M+m),t[1]=h+S,t[2]=f-p,t[3]=0,t[4]=h-S,t[5]=1-(c+m),t[6]=d+x,t[7]=0,t[8]=f+p,t[9]=d-x,t[10]=1-(c+M),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},r.getTranslation=function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},r.getRotation=function(t,n){var a=n[0]+n[5]+n[10],e=0;return a>0?(e=2*Math.sqrt(a+1),t[3]=.25*e,t[0]=(n[6]-n[9])/e,t[1]=(n[8]-n[2])/e,t[2]=(n[1]-n[4])/e):n[0]>n[5]&n[0]>n[10]?(e=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/e,t[0]=.25*e,t[1]=(n[1]+n[4])/e,t[2]=(n[8]+n[2])/e):n[5]>n[10]?(e=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/e,t[0]=(n[1]+n[4])/e,t[1]=.25*e,t[2]=(n[6]+n[9])/e):(e=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/e,t[0]=(n[8]+n[2])/e,t[1]=(n[6]+n[9])/e,t[2]=.25*e),t},r.fromRotationTranslationScale=function(t,n,a,e){var r=n[0],o=n[1],i=n[2],u=n[3],l=r+r,s=o+o,c=i+i,h=r*l,f=r*s,M=r*c,d=o*s,m=o*c,x=i*c,p=u*l,S=u*s,I=u*c,v=e[0],D=e[1],F=e[2];return t[0]=(1-(d+x))*v,t[1]=(f+I)*v,t[2]=(M-S)*v,t[3]=0,t[4]=(f-I)*D,t[5]=(1-(h+x))*D,t[6]=(m+p)*D,t[7]=0,t[8]=(M+S)*F,t[9]=(m-p)*F,t[10]=(1-(h+d))*F,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,n,a,e,r){var o=n[0],i=n[1],u=n[2],l=n[3],s=o+o,c=i+i,h=u+u,f=o*s,M=o*c,d=o*h,m=i*c,x=i*h,p=u*h,S=l*s,I=l*c,v=l*h,D=e[0],F=e[1],b=e[2],y=r[0],w=r[1],g=r[2];return t[0]=(1-(m+p))*D,t[1]=(M+v)*D,t[2]=(d-I)*D,t[3]=0,t[4]=(M-v)*F,t[5]=(1-(f+p))*F,t[6]=(x+S)*F,t[7]=0,t[8]=(d+I)*b,t[9]=(x-S)*b,t[10]=(1-(f+m))*b,t[11]=0,t[12]=a[0]+y-(t[0]*y+t[4]*w+t[8]*g),t[13]=a[1]+w-(t[1]*y+t[5]*w+t[9]*g),t[14]=a[2]+g-(t[2]*y+t[6]*w+t[10]*g),t[15]=1,t},r.fromQuat=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=a+a,u=e+e,l=r+r,s=a*i,c=e*i,h=e*u,f=r*i,M=r*u,d=r*l,m=o*i,x=o*u,p=o*l;return t[0]=1-h-d,t[1]=c+p,t[2]=f-x,t[3]=0,t[4]=c-p,t[5]=1-s-d,t[6]=M+m,t[7]=0,t[8]=f+x,t[9]=M-m,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,n,a,e,r,o,i){var u=1/(a-n),l=1/(r-e),s=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(a+n)*u,t[9]=(r+e)*l,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},r.perspective=function(t,n,a,e,r){var o=1/Math.tan(n/2),i=1/(e-r);return t[0]=o/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*e*i,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,n,a,e){var r=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),i=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),l=2/(i+u),s=2/(r+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((i-u)*l*.5),t[9]=(r-o)*s*.5,t[10]=e/(a-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*a/(a-e),t[15]=0,t},r.ortho=function(t,n,a,e,r,o,i){var u=1/(n-a),l=1/(e-r),s=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+a)*u,t[13]=(r+e)*l,t[14]=(i+o)*s,t[15]=1,t},r.lookAt=function(t,n,a,o){var i,u,l,s,c,h,f,M,d,m,x=n[0],p=n[1],S=n[2],I=o[0],v=o[1],D=o[2],F=a[0],b=a[1],y=a[2];return Math.abs(x-F)<e.EPSILON&&Math.abs(p-b)<e.EPSILON&&Math.abs(S-y)<e.EPSILON?r.identity(t):(f=x-F,M=p-b,d=S-y,m=1/Math.sqrt(f*f+M*M+d*d),f*=m,M*=m,d*=m,i=v*d-D*M,u=D*f-I*d,l=I*M-v*f,m=Math.sqrt(i*i+u*u+l*l),m?(m=1/m,i*=m,u*=m,l*=m):(i=0,u=0,l=0),s=M*l-d*u,c=d*i-f*l,h=f*u-M*i,m=Math.sqrt(s*s+c*c+h*h),m?(m=1/m,s*=m,c*=m,h*=m):(s=0,c=0,h=0),t[0]=i,t[1]=s,t[2]=f,t[3]=0,t[4]=u,t[5]=c,t[6]=M,t[7]=0,t[8]=l,t[9]=h,t[10]=d,t[11]=0,t[12]=-(i*x+u*p+l*S),t[13]=-(s*x+c*p+h*S),t[14]=-(f*x+M*p+d*S),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t[9]=n[9]+a[9],t[10]=n[10]+a[10],t[11]=n[11]+a[11],t[12]=n[12]+a[12],t[13]=n[13]+a[13],t[14]=n[14]+a[14],t[15]=n[15]+a[15],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t[9]=n[9]-a[9],t[10]=n[10]-a[10],t[11]=n[11]-a[11],t[12]=n[12]-a[12],t[13]=n[13]-a[13],t[14]=n[14]-a[14],t[15]=n[15]-a[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12]*a,t[13]=n[13]*a,t[14]=n[14]*a,t[15]=n[15]*a,t},r.multiplyScalarAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t[3]=n[3]+a[3]*e,t[4]=n[4]+a[4]*e,t[5]=n[5]+a[5]*e,t[6]=n[6]+a[6]*e,t[7]=n[7]+a[7]*e,t[8]=n[8]+a[8]*e,t[9]=n[9]+a[9]*e,t[10]=n[10]+a[10]*e,t[11]=n[11]+a[11]*e,t[12]=n[12]+a[12]*e,t[13]=n[13]+a[13]*e,t[14]=n[14]+a[14]*e,t[15]=n[15]+a[15]*e,t},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],h=t[8],f=t[9],M=t[10],d=t[11],m=t[12],x=t[13],p=t[14],S=t[15],I=n[0],v=n[1],D=n[2],F=n[3],b=n[4],y=n[5],w=n[6],g=n[7],_=n[8],E=n[9],z=n[10],P=n[11],O=n[12],A=n[13],T=n[14],L=n[15];return Math.abs(a-I)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(r-v)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(o-D)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(i-F)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(u-b)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-y)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(s-w)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(c-g)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(h-_)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(f-E)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(M-z)<=e.EPSILON*Math.max(1,Math.abs(M),Math.abs(z))&&Math.abs(d-P)<=e.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(m-O)<=e.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(x-A)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(p-T)<=e.EPSILON*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(S-L)<=e.EPSILON*Math.max(1,Math.abs(S),Math.abs(L))},t.exports=r},function(t,n,a){var e=a(6),r=a(9),o=a(12),i=a(13),u={};u.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),n=o.fromValues(1,0,0),a=o.fromValues(0,1,0);return function(e,r,i){var l=o.dot(r,i);return l<-.999999?(o.cross(t,n,r),o.length(t)<1e-6&&o.cross(t,a,r),o.normalize(t,t),u.setAxisAngle(e,t,Math.PI),e):l>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(o.cross(t,r,i),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+l,u.normalize(e,e))}}(),u.setAxes=function(){var t=r.create();return function(n,a,e,r){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-a[0],t[5]=-a[1],t[8]=-a[2],u.normalize(n,u.fromMat3(n,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,n,a){a*=.5;var e=Math.sin(a);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(a),t},u.getAxisAngle=function(t,n){var a=2*Math.acos(n[3]),e=Math.sin(a/2);return 0!=e?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),a},u.add=i.add,u.multiply=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3],u=a[0],l=a[1],s=a[2],c=a[3];return t[0]=e*c+i*u+r*s-o*l,t[1]=r*c+i*l+o*u-e*s,t[2]=o*c+i*s+e*l-r*u,t[3]=i*c-e*u-r*l-o*s,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,n,a){a*=.5;var e=n[0],r=n[1],o=n[2],i=n[3],u=Math.sin(a),l=Math.cos(a);return t[0]=e*l+i*u,t[1]=r*l+o*u,t[2]=o*l-r*u,t[3]=i*l-e*u,t},u.rotateY=function(t,n,a){a*=.5;var e=n[0],r=n[1],o=n[2],i=n[3],u=Math.sin(a),l=Math.cos(a);return t[0]=e*l-o*u,t[1]=r*l+i*u,t[2]=o*l+e*u,t[3]=i*l-r*u,t},u.rotateZ=function(t,n,a){a*=.5;var e=n[0],r=n[1],o=n[2],i=n[3],u=Math.sin(a),l=Math.cos(a);return t[0]=e*l+r*u,t[1]=r*l-e*u,t[2]=o*l+i*u,t[3]=i*l-o*u,t},u.calculateW=function(t,n){var a=n[0],e=n[1],r=n[2];return t[0]=a,t[1]=e,t[2]=r,t[3]=Math.sqrt(Math.abs(1-a*a-e*e-r*r)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,n,a,e){var r,o,i,u,l,s=n[0],c=n[1],h=n[2],f=n[3],M=a[0],d=a[1],m=a[2],x=a[3];return o=s*M+c*d+h*m+f*x,o<0&&(o=-o,M=-M,d=-d,m=-m,x=-x),1-o>1e-6?(r=Math.acos(o),i=Math.sin(r),u=Math.sin((1-e)*r)/i,l=Math.sin(e*r)/i):(u=1-e,l=e),t[0]=u*s+l*M,t[1]=u*c+l*d,t[2]=u*h+l*m,t[3]=u*f+l*x,t},u.sqlerp=function(){var t=u.create(),n=u.create();return function(a,e,r,o,i,l){return u.slerp(t,e,i,l),u.slerp(n,r,o,l),u.slerp(a,t,n,2*l*(1-l)),a}}(),u.invert=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=a*a+e*e+r*r+o*o,u=i?1/i:0;return t[0]=-a*u,t[1]=-e*u,t[2]=-r*u,t[3]=o*u,t},u.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,n){var a,e=n[0]+n[4]+n[8];if(e>0)a=Math.sqrt(e+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{var r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);var o=(r+1)%3,i=(r+2)%3;a=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*i+i]+1),t[r]=.5*a,a=.5/a,t[3]=(n[3*o+i]-n[3*i+o])*a,t[o]=(n[3*o+r]+n[3*r+o])*a,t[i]=(n[3*i+r]+n[3*r+i])*a}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=i.exactEquals,u.equals=i.equals,t.exports=u},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var n=new e.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},r.fromValues=function(t,n,a){var r=new e.ARRAY_TYPE(3);return r[0]=t,r[1]=n,r[2]=a,r},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},r.set=function(t,n,a,e){return t[0]=n,t[1]=a,t[2]=e,t},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t},r.sub=r.subtract,r.multiply=function(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t},r.mul=r.multiply,r.divide=function(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t},r.div=r.divide,r.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},r.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},r.min=function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t},r.max=function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t},r.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},r.scale=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t},r.scaleAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t},r.distance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1],r=n[2]-t[2];return Math.sqrt(a*a+e*e+r*r)},r.dist=r.distance,r.squaredDistance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1],r=n[2]-t[2];return a*a+e*e+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var n=t[0],a=t[1],e=t[2];return Math.sqrt(n*n+a*a+e*e)},r.len=r.length,r.squaredLength=function(t){var n=t[0],a=t[1],e=t[2];return n*n+a*a+e*e},r.sqrLen=r.squaredLength,r.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},r.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},r.normalize=function(t,n){var a=n[0],e=n[1],r=n[2],o=a*a+e*e+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t},r.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},r.cross=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=a[0],u=a[1],l=a[2];return t[0]=r*l-o*u,t[1]=o*i-e*l,t[2]=e*u-r*i,t},r.lerp=function(t,n,a,e){var r=n[0],o=n[1],i=n[2];return t[0]=r+e*(a[0]-r),t[1]=o+e*(a[1]-o),t[2]=i+e*(a[2]-i),t},r.hermite=function(t,n,a,e,r,o){var i=o*o,u=i*(2*o-3)+1,l=i*(o-2)+o,s=i*(o-1),c=i*(3-2*o);return t[0]=n[0]*u+a[0]*l+e[0]*s+r[0]*c,t[1]=n[1]*u+a[1]*l+e[1]*s+r[1]*c,t[2]=n[2]*u+a[2]*l+e[2]*s+r[2]*c,t},r.bezier=function(t,n,a,e,r,o){var i=1-o,u=i*i,l=o*o,s=u*i,c=3*o*u,h=3*l*i,f=l*o;return t[0]=n[0]*s+a[0]*c+e[0]*h+r[0]*f,t[1]=n[1]*s+a[1]*c+e[1]*h+r[1]*f,t[2]=n[2]*s+a[2]*c+e[2]*h+r[2]*f,t},r.random=function(t,n){n=n||1;var a=2*e.RANDOM()*Math.PI,r=2*e.RANDOM()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(a)*o,t[1]=Math.sin(a)*o,t[2]=r*n,t},r.transformMat4=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=a[3]*e+a[7]*r+a[11]*o+a[15];return i=i||1,t[0]=(a[0]*e+a[4]*r+a[8]*o+a[12])/i,t[1]=(a[1]*e+a[5]*r+a[9]*o+a[13])/i,t[2]=(a[2]*e+a[6]*r+a[10]*o+a[14])/i,t},r.transformMat3=function(t,n,a){var e=n[0],r=n[1],o=n[2];return t[0]=e*a[0]+r*a[3]+o*a[6],t[1]=e*a[1]+r*a[4]+o*a[7],t[2]=e*a[2]+r*a[5]+o*a[8],t},r.transformQuat=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=a[0],u=a[1],l=a[2],s=a[3],c=s*e+u*o-l*r,h=s*r+l*e-i*o,f=s*o+i*r-u*e,M=-i*e-u*r-l*o;return t[0]=c*s+M*-i+h*-l-f*-u,t[1]=h*s+M*-u+f*-i-c*-l,t[2]=f*s+M*-l+c*-u-h*-i,t},r.rotateX=function(t,n,a,e){var r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[0],o[1]=r[1]*Math.cos(e)-r[2]*Math.sin(e),o[2]=r[1]*Math.sin(e)+r[2]*Math.cos(e),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},r.rotateY=function(t,n,a,e){var r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[2]*Math.sin(e)+r[0]*Math.cos(e),o[1]=r[1],o[2]=r[2]*Math.cos(e)-r[0]*Math.sin(e),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},r.rotateZ=function(t,n,a,e){var r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[0]*Math.cos(e)-r[1]*Math.sin(e),o[1]=r[0]*Math.sin(e)+r[1]*Math.cos(e),o[2]=r[2],t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},r.forEach=function(){var t=r.create();return function(n,a,e,r,o,i){var u,l;for(a||(a=3),e||(e=0),l=r?Math.min(r*a+e,n.length):n.length,u=e;u<l;u+=a)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],o(t,t,i),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2];return n}}(),r.angle=function(t,n){var a=r.fromValues(t[0],t[1],t[2]),e=r.fromValues(n[0],n[1],n[2]);r.normalize(a,a),r.normalize(e,e);var o=r.dot(a,e);return o>1?0:Math.acos(o)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=n[0],u=n[1],l=n[2];return Math.abs(a-i)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(r-u)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=r},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var n=new e.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},r.fromValues=function(t,n,a,r){var o=new e.ARRAY_TYPE(4);return o[0]=t,o[1]=n,o[2]=a,o[3]=r,o},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},r.set=function(t,n,a,e,r){return t[0]=n,t[1]=a,t[2]=e,t[3]=r,t},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t},r.sub=r.subtract,r.multiply=function(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t},r.mul=r.multiply,r.divide=function(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t},r.div=r.divide,r.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},r.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},r.min=function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t},r.max=function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t},r.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},r.scale=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t},r.scaleAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t[2]=n[2]+a[2]*e,t[3]=n[3]+a[3]*e,t},r.distance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1],r=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(a*a+e*e+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1],r=n[2]-t[2],o=n[3]-t[3];return a*a+e*e+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var n=t[0],a=t[1],e=t[2],r=t[3];return Math.sqrt(n*n+a*a+e*e+r*r)},r.len=r.length,r.squaredLength=function(t){var n=t[0],a=t[1],e=t[2],r=t[3];return n*n+a*a+e*e+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},r.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},r.normalize=function(t,n){var a=n[0],e=n[1],r=n[2],o=n[3],i=a*a+e*e+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=a*i,t[1]=e*i,t[2]=r*i,t[3]=o*i),t},r.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},r.lerp=function(t,n,a,e){var r=n[0],o=n[1],i=n[2],u=n[3];return t[0]=r+e*(a[0]-r),t[1]=o+e*(a[1]-o),t[2]=i+e*(a[2]-i),t[3]=u+e*(a[3]-u),t},r.random=function(t,n){return n=n||1,t[0]=e.RANDOM(),t[1]=e.RANDOM(),t[2]=e.RANDOM(),t[3]=e.RANDOM(),r.normalize(t,t),r.scale(t,t,n),t},r.transformMat4=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=n[3];return t[0]=a[0]*e+a[4]*r+a[8]*o+a[12]*i,t[1]=a[1]*e+a[5]*r+a[9]*o+a[13]*i,t[2]=a[2]*e+a[6]*r+a[10]*o+a[14]*i,t[3]=a[3]*e+a[7]*r+a[11]*o+a[15]*i,t},r.transformQuat=function(t,n,a){var e=n[0],r=n[1],o=n[2],i=a[0],u=a[1],l=a[2],s=a[3],c=s*e+u*o-l*r,h=s*r+l*e-i*o,f=s*o+i*r-u*e,M=-i*e-u*r-l*o;return t[0]=c*s+M*-i+h*-l-f*-u,t[1]=h*s+M*-u+f*-i-c*-l,t[2]=f*s+M*-l+c*-u-h*-i,t[3]=n[3],t},r.forEach=function(){var t=r.create();return function(n,a,e,r,o,i){var u,l;for(a||(a=4),e||(e=0),l=r?Math.min(r*a+e,n.length):n.length,u=e;u<l;u+=a)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,i),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},r.equals=function(t,n){var a=t[0],r=t[1],o=t[2],i=t[3],u=n[0],l=n[1],s=n[2],c=n[3];return Math.abs(a-u)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(r-l)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-s)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},t.exports=r},function(t,n,a){var e=a(6),r={};r.create=function(){var t=new e.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var n=new e.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},r.fromValues=function(t,n){var a=new e.ARRAY_TYPE(2);return a[0]=t,a[1]=n,a},r.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},r.set=function(t,n,a){return t[0]=n,t[1]=a,t},r.add=function(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t},r.subtract=function(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t},r.sub=r.subtract,r.multiply=function(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t},r.mul=r.multiply,r.divide=function(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t},r.div=r.divide,r.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},r.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},r.min=function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t},r.max=function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t},r.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},r.scale=function(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t},r.scaleAndAdd=function(t,n,a,e){return t[0]=n[0]+a[0]*e,t[1]=n[1]+a[1]*e,t},r.distance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(a*a+e*e)},r.dist=r.distance,r.squaredDistance=function(t,n){var a=n[0]-t[0],e=n[1]-t[1];return a*a+e*e},r.sqrDist=r.squaredDistance,r.length=function(t){var n=t[0],a=t[1];return Math.sqrt(n*n+a*a)},r.len=r.length,r.squaredLength=function(t){var n=t[0],a=t[1];return n*n+a*a},r.sqrLen=r.squaredLength,r.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},r.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},r.normalize=function(t,n){var a=n[0],e=n[1],r=a*a+e*e;return r>0&&(r=1/Math.sqrt(r),t[0]=n[0]*r,t[1]=n[1]*r),t},r.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},r.cross=function(t,n,a){var e=n[0]*a[1]-n[1]*a[0];return t[0]=t[1]=0,t[2]=e,t},r.lerp=function(t,n,a,e){var r=n[0],o=n[1];return t[0]=r+e*(a[0]-r),t[1]=o+e*(a[1]-o),t},r.random=function(t,n){n=n||1;var a=2*e.RANDOM()*Math.PI;return t[0]=Math.cos(a)*n,t[1]=Math.sin(a)*n,t},r.transformMat2=function(t,n,a){var e=n[0],r=n[1];return t[0]=a[0]*e+a[2]*r,t[1]=a[1]*e+a[3]*r,t},r.transformMat2d=function(t,n,a){var e=n[0],r=n[1];return t[0]=a[0]*e+a[2]*r+a[4],t[1]=a[1]*e+a[3]*r+a[5],t},r.transformMat3=function(t,n,a){var e=n[0],r=n[1];return t[0]=a[0]*e+a[3]*r+a[6],t[1]=a[1]*e+a[4]*r+a[7],t},r.transformMat4=function(t,n,a){var e=n[0],r=n[1];return t[0]=a[0]*e+a[4]*r+a[12],t[1]=a[1]*e+a[5]*r+a[13],t},r.forEach=function(){var t=r.create();return function(n,a,e,r,o,i){var u,l;for(a||(a=2),e||(e=0),l=r?Math.min(r*a+e,n.length):n.length,u=e;u<l;u+=a)t[0]=n[u],t[1]=n[u+1],o(t,t,i),n[u]=t[0],n[u+1]=t[1];return n}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},r.equals=function(t,n){var a=t[0],r=t[1],o=n[0],i=n[1];return Math.abs(a-o)<=e.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(r-i)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))},t.exports=r},function(t,n){function a(t){var n="";return n+=t[0].toFixed(20)+",",n+=t[1].toFixed(20)+",",n+=t[2].toFixed(20)+",",n+=t[3].toFixed(20)+",",n+=t[4].toFixed(20)+",",n+=t[5].toFixed(20)+",",n+=t[6].toFixed(20)+",",n+=t[7].toFixed(20)+",",n+=t[8].toFixed(20)+",",n+=t[9].toFixed(20)+",",n+=t[10].toFixed(20)+",",n+=t[11].toFixed(20)+",",n+=t[12].toFixed(20)+",",n+=t[13].toFixed(20)+",",n+=t[14].toFixed(20)+",",n+=t[15].toFixed(20),"matrix3d("+n+")"}t.exports=a},function(t,n){"use strict";t.exports={size:function(t,n){var a=this.dom.style;return a.transformStyle=a.webkitTransformStyle="preserve-3d",a.width=t+"px",a.height=n+"px",this._size=[t,n],this}}},function(t,n){"use strict";t.exports={texture:function(t,n){var a=this.dom.style;return t&&(a.backgroundColor=t),n&&(a.backgroundImage="url("+n+")",a.backgroundSize="100% 100%"),this._texture=[t,n],this}}},function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),l=function t(n,a,e){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,a);if(void 0===r){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,a,e)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(e)},s=a(3),c=e(s),h=a(19),f=e(h),M=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),e=a.dom.style;return e.transformStyle=e.webkitTransformStyle="preserve-3d",e.overflow="hidden",a.camera=new f.default,a.camera._scene=a,l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addChild",a).call(a,a.camera),a}return i(n,t),u(n,[{key:"getChildren",value:function(){return this.camera.children}},{key:"addChild",value:function(t){return t._isSceneObj=!0,this.camera.addChild(t),this}},{key:"removeChild",value:function(t){return this.camera.removeChild(t),this}},{key:"css",value:function(){return null}}]),n}(c.default);n.default=M},function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){var a=[],e=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(a.push(i.value),!n||a.length!==n);e=!0);}catch(t){r=!0,o=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),
Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),s=function t(n,a,e){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,a);if(void 0===r){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,a,e)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(e)},c=a(5),h=a(15),f=e(h),M=a(3),d=e(M),m=function(t){function n(t){r(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));a.containerMatrix=c.mat4.create(),a.fov=45;var e=a.dom.style;return e.transformStyle=e.webkitTransformStyle="preserve-3d",e.width="100%",e.height="100%",a}return i(n,t),l(n,[{key:"perspective",value:function t(n){n=n||this.fov;var a=this._scene;if(a){var t=.5*a._size[1]/Math.tan(.5*n/180*Math.PI);this._perspective=t,a.dom.style.perspective=a.dom.style.webkitPerspective=t+"px"}return this}},{key:"rotate",value:function(t,a){var e=u(this.position,3),r=e[0],o=e[1],i=e[2];return this.translate([-r,-o,-i]),s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rotate",this).call(this,t,a),this.translate([r,o,i]),this}},{key:"rotateTo",value:function(t){var n=u(this.position,3),a=n[0],e=n[1],r=n[2];return void 0===t?this:(this.translate([-a,-e,-r]),this.euler=[t[0],t[1],t[2]],this.translate([a,e,r]),this)}},{key:"lookAt",value:function(){c.mat4.lookAt(this.mat,eye,center,up)}},{key:"css",value:function(){c.mat4.invert(this.containerMatrix,this.mat);var t="translate3d(0,0,"+this._perspective+"px) ",n=this.containerMatrix;return n[1]=-n[1],n[5]=-n[5],n[9]=-n[9],n[13]=-n[13],t+=(0,f.default)(n),t+=" translate3d(50%, 50%, 0)"}}]),n}(d.default);n.default=m},function(t,n,a){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),i=a(21),u=e(i),l=a(24),s=e(l),c=a(25),h=e(c),f=function(){function t(n){r(this,t),this.element=n,this.touches=[{x:0,y:0,dx:0,dy:0,dz:0},{x:0,y:0}],this._setupPan(),this._setupZoom(),this.gesture="pan",this._update=this._update.bind(this),this._update(),this._bindEvent()}return o(t,[{key:"onZoom",value:function(t){return this._onZoomCallback=t,this}},{key:"onPan",value:function(t){return this._onPanCallback=t,this}},{key:"_update",value:function(){(0,u.default)(this._update),this._canPan&&this._updatePan(),this._canZoom&&this._updateZoom()}},{key:"_bindEvent",value:function(){function t(t,e,o){var i=t.touches;2===i.length?(n.gesture="zoom",n._canZoom&&n[o](a,i)):(n.gesture="pan",n._canPan&&n[e](r,i[0]))}var n=this,a=this.touches,e=this.element,r=a[0];e.addEventListener("touchstart",function(n){n.preventDefault(),t(n,"_touchStartPan","_touchStartZoom"),a.down=!0}),e.addEventListener("touchend",function(t){a.down=!1}),e.addEventListener("touchmove",function(n){a.down&&t(n,"_touchMovePan","_touchMoveZoom")})}}],[{key:"implements",value:function(n){Object.assign(t.prototype,n)}}]),t}();n.default=f,f.implements(s.default),f.implements(h.default)},function(t,n,a){(function(n){for(var e=a(22),r="undefined"==typeof window?n:window,o=["moz","webkit"],i="AnimationFrame",u=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],s=0;!u&&s<o.length;s++)u=r[o[s]+"Request"+i],l=r[o[s]+"Cancel"+i]||r[o[s]+"CancelRequest"+i];if(!u||!l){var c=0,h=0,f=[],M=1e3/60;u=function(t){if(0===f.length){var n=e(),a=Math.max(0,M-(n-c));c=a+n,setTimeout(function(){var t=f.slice(0);f.length=0;for(var n=0;n<t.length;n++)if(!t[n].cancelled)try{t[n].callback(c)}catch(t){setTimeout(function(){throw t},0)}},Math.round(a))}return f.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var n=0;n<f.length;n++)f[n].handle===t&&(f[n].cancelled=!0)}}t.exports=function(t){return u.call(r,t)},t.exports.cancel=function(){l.apply(r,arguments)},t.exports.polyfill=function(){r.requestAnimationFrame=u,r.cancelAnimationFrame=l}}).call(n,function(){return this}())},function(t,n,a){(function(n){(function(){var a,e,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof n&&null!==n&&n.hrtime?(t.exports=function(){return(a()-r)/1e6},e=n.hrtime,a=function(){var t;return t=e(),1e9*t[0]+t[1]},r=a()):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(n,a(23))},function(t,n){function a(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===e||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(n){try{return h.call(null,t)}catch(n){return h.call(this,t)}}}function i(){m&&M&&(m=!1,M.length?d=M.concat(d):x=-1,d.length&&u())}function u(){if(!m){var t=r(i);m=!0;for(var n=d.length;n;){for(M=d,d=[];++x<n;)M&&M[x].run();x=-1,n=d.length}M=null,m=!1,o(t)}}function l(t,n){this.fun=t,this.array=n}function s(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:a}catch(t){c=a}try{h="function"==typeof clearTimeout?clearTimeout:e}catch(t){h=e}}();var M,d=[],m=!1,x=-1;f.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)n[a-1]=arguments[a];d.push(new l(t,n)),1!==d.length||m||r(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,n){"use strict";t.exports={_setupPan:function(t){t=t||{},this.panDamping=.05,this.panSpeed=.005},panSetup:function(t,n){return this._canPan=!0,void 0!==n&&(this.panDamping=n),void 0!==t&&(this.panSpeed=t),this},panAuto:function(t,n){var a=this.touches[0];return a.dx=t,a.dy=n,this},_updatePan:function(){var t=this.touches,n=this.panSpeed,a=this.panDamping,e=t[0];return t.down?(e.dx=0,void(e.dy=0)):(e.dx-=e.dx*a,e.dy-=e.dy*a,Math.abs(e.dx*n)<1e-4&&(e.dx=0),Math.abs(e.dy*n)<1e-4&&(e.dy=0),void this._pan(e.dx,e.dy))},_touchStartPan:function(t,n){t.x=n.clientX,t.y=n.clientY,t.dx=0,t.dy=0},_touchMovePan:function(t,n){t.dx=t.x-n.clientX,t.dy=t.y-n.clientY,t.x=n.clientX,t.y=n.clientY,this._pan(t.dx,t.dy)},_pan:function(t,n){var a=this.panSpeed;this._onPanCallback&&this._onPanCallback(t*a,n*a)}}},function(t,n){"use strict";t.exports={_setupZoom:function(t){t=t||{},this._z=0,this.zoomDamping=1e-4,this.zoomSpeed=20},zoomSetup:function(t,n){return this._canZoom=!0,void 0!==t&&(this.zoomSpeed=t),void 0!==n&&(this.zoomDamping=n),this},zoomAuto:function(t){return this._z=t,this},_updateZoom:function(){var t=this.touches,n=this.zoomDamping;return t.down?void(this._z=0):(this._z-=n,Math.abs(this._z)<Math.abs(2*n)&&(this._z=0),void this._zoom(this._z))},_calculateTouch:function(t,n){t[0].x=n[0].clientX,t[0].y=n[0].clientY,t[1].x=n[1].clientX,t[1].y=n[1].clientY},_touchStartZoom:function(t,n){this._calculateTouch(t,n)},_touchMoveZoom:function(t,n){var a=this._calculateScale(t,[{x:n[0].clientX,y:n[0].clientY},{x:n[1].clientX,y:n[1].clientY}]);this._z=a>1?1-a:1/a-1,this._zoom(this._z),this._calculateTouch(t,n)},_calculateScale:function(t,n){var a=function(t,n){var a=t.x-n.x,e=t.y-n.y;return Math.sqrt(a*a+e*e)},e=a(t[0],t[1]),r=a(n[0],n[1]);return r/e},_zoom:function(t){this._onZoomCallback&&this._onZoomCallback(t*this.zoomSpeed)}}},function(t,n,a){var e,r;(function(a){var o=o||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var a=t.indexOf(n);a!==-1&&t.splice(a,1)},update:function(n,a){if(0===t.length)return!1;var e=0;for(n=void 0!==n?n:o.now();e<t.length;)t[e].update(n)||a?e++:t.splice(e,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof a?o.now=function(){var t=a.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?o.now=window.performance.now.bind(window.performance):void 0!==Date.now?o.now=Date.now:o.now=function(){return(new Date).getTime()},o.Tween=function(t){var n,a=t,e={},r={},i={},u=1e3,l=0,s=!1,c=!1,h=!1,f=0,M=null,d=o.Easing.Linear.None,m=o.Interpolation.Linear,x=[],p=null,S=!1,I=null,v=null,D=null;this.to=function(t,n){return r=t,void 0!==n&&(u=n),this},this.start=function(t){o.add(this),c=!0,S=!1,M=void 0!==t?t:o.now(),M+=f;for(var n in r){if(r[n]instanceof Array){if(0===r[n].length)continue;r[n]=[a[n]].concat(r[n])}void 0!==a[n]&&(e[n]=a[n],e[n]instanceof Array==!1&&(e[n]*=1),i[n]=e[n]||0)}return this},this.stop=function(){return c?(o.remove(this),c=!1,null!==D&&D.call(a,a),this.stopChainedTweens(),this):this},this.end=function(){return this.update(M+u),this},this.stopChainedTweens=function(){for(var t=0,n=x.length;t<n;t++)x[t].stop()},this.delay=function(t){return f=t,this},this.repeat=function(t){return l=t,this},this.repeatDelay=function(t){return n=t,this},this.yoyo=function(t){return s=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return m=t,this},this.chain=function(){return x=arguments,this},this.onStart=function(t){return p=t,this},this.onUpdate=function(t){return I=t,this},this.onComplete=function(t){return v=t,this},this.onStop=function(t){return D=t,this},this.update=function(t){var o,c,D;if(t<M)return!0;S===!1&&(null!==p&&p.call(a,a),S=!0),c=(t-M)/u,c=c>1?1:c,D=d(c);for(o in r)if(void 0!==e[o]){var F=e[o]||0,b=r[o];b instanceof Array?a[o]=m(b,D):("string"==typeof b&&(b="+"===b.charAt(0)||"-"===b.charAt(0)?F+parseFloat(b):parseFloat(b)),"number"==typeof b&&(a[o]=F+(b-F)*D))}if(null!==I&&I.call(a,D),1===c){if(l>0){isFinite(l)&&l--;for(o in i){if("string"==typeof r[o]&&(i[o]=i[o]+parseFloat(r[o])),s){var y=i[o];i[o]=r[o],r[o]=y}e[o]=i[o]}return s&&(h=!h),M=void 0!==n?t+n:t+f,!0}null!==v&&v.call(a,a);for(var w=0,g=x.length;w<g;w++)x[w].start(M+u);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,n){var a=t.length-1,e=a*n,r=Math.floor(e),i=o.Interpolation.Utils.Linear;return n<0?i(t[0],t[1],e):n>1?i(t[a],t[a-1],a-e):i(t[r],t[r+1>a?a:r+1],e-r)},Bezier:function(t,n){for(var a=0,e=t.length-1,r=Math.pow,i=o.Interpolation.Utils.Bernstein,u=0;u<=e;u++)a+=r(1-n,e-u)*r(n,u)*t[u]*i(e,u);return a},CatmullRom:function(t,n){var a=t.length-1,e=a*n,r=Math.floor(e),i=o.Interpolation.Utils.CatmullRom;return t[0]===t[a]?(n<0&&(r=Math.floor(e=a*(1+n))),i(t[(r-1+a)%a],t[r],t[(r+1)%a],t[(r+2)%a],e-r)):n<0?t[0]-(i(t[0],t[0],t[1],t[1],-e)-t[0]):n>1?t[a]-(i(t[a],t[a],t[a-1],t[a-1],e-a)-t[a]):i(t[r?r-1:0],t[r],t[a<r+1?a:r+1],t[a<r+2?a:r+2],e-r)},Utils:{Linear:function(t,n,a){return(n-t)*a+t},Bernstein:function(t,n){var a=o.Interpolation.Utils.Factorial;return a(t)/a(n)/a(t-n)},Factorial:function(){var t=[1];return function(n){var a=1;if(t[n])return t[n];for(var e=n;e>1;e--)a*=e;return t[n]=a,a}}(),CatmullRom:function(t,n,a,e,r){var o=.5*(a-t),i=.5*(e-n),u=r*r,l=r*u;return(2*n-2*a+o+i)*l+(-3*n+3*a-2*o-i)*u+o*r+n}}},function(a){e=[],r=function(){return o}.apply(n,e),!(void 0!==r&&(t.exports=r))}(this)}).call(n,a(23))},function(t,n){var a=function(){var t=Date.now(),n=t,a=0,e=1/0,r=0,o=0,i=1/0,u=0,l=0,s=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(t){t.preventDefault(),S(++s%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var h=document.createElement("div");h.id="fps",h.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(h);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",h.appendChild(f);var M=document.createElement("div");for(M.id="fpsGraph",M.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",h.appendChild(M);74>M.children.length;){var d=document.createElement("span");d.style.cssText="width:1px;height:30px;float:left;background-color:#113",M.appendChild(d)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(m);var x=document.createElement("div");x.id="msText",x.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",x.innerHTML="MS",m.appendChild(x);var p=document.createElement("div");for(p.id="msGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(p);74>p.children.length;)d=document.createElement("span"),d.style.cssText="width:1px;height:30px;float:left;background-color:#131",p.appendChild(d);var S=function(t){switch(s=t){case 0:h.style.display="block",m.style.display="none";break;case 1:h.style.display="none",m.style.display="block"}};return{REVISION:12,domElement:c,setMode:S,begin:function(){t=Date.now()},end:function(){var s=Date.now();a=s-t,e=Math.min(e,a),r=Math.max(r,a),x.textContent=a+" MS ("+e+"-"+r+")";var c=Math.min(30,30-30*(a/200));return p.appendChild(p.firstChild).style.height=c+"px",l++,s>n+1e3&&(o=Math.round(1e3*l/(s-n)),i=Math.min(i,o),u=Math.max(u,o),f.textContent=o+" FPS ("+i+"-"+u+")",c=Math.min(30,30-30*(o/100)),M.appendChild(M.firstChild).style.height=c+"px",n=s,l=0),s},update:function(){t=this.end()}}};"object"==typeof t&&(t.exports=a)},,,,,,,,,,,,,function(t,n){},function(t,n){"use strict";t.exports=["H","Hydrogen","1.00794",1,1,"He","Helium","4.002602",18,1,"Li","Lithium","6.941",1,2,"Be","Beryllium","9.012182",2,2,"B","Boron","10.811",13,2,"C","Carbon","12.0107",14,2,"N","Nitrogen","14.0067",15,2,"O","Oxygen","15.9994",16,2,"F","Fluorine","18.9984032",17,2,"Ne","Neon","20.1797",18,2,"Na","Sodium","22.98976...",1,3,"Mg","Magnesium","24.305",2,3,"Al","Aluminium","26.9815386",13,3,"Si","Silicon","28.0855",14,3,"P","Phosphorus","30.973762",15,3,"S","Sulfur","32.065",16,3,"Cl","Chlorine","35.453",17,3,"Ar","Argon","39.948",18,3,"K","Potassium","39.948",1,4,"Ca","Calcium","40.078",2,4,"Sc","Scandium","44.955912",3,4,"Ti","Titanium","47.867",4,4,"V","Vanadium","50.9415",5,4,"Cr","Chromium","51.9961",6,4,"Mn","Manganese","54.938045",7,4,"Fe","Iron","55.845",8,4,"Co","Cobalt","58.933195",9,4,"Ni","Nickel","58.6934",10,4,"Cu","Copper","63.546",11,4,"Zn","Zinc","65.38",12,4,"Ga","Gallium","69.723",13,4,"Ge","Germanium","72.63",14,4,"As","Arsenic","74.9216",15,4,"Se","Selenium","78.96",16,4,"Br","Bromine","79.904",17,4,"Kr","Krypton","83.798",18,4,"Rb","Rubidium","85.4678",1,5,"Sr","Strontium","87.62",2,5,"Y","Yttrium","88.90585",3,5,"Zr","Zirconium","91.224",4,5,"Nb","Niobium","92.90628",5,5,"Mo","Molybdenum","95.96",6,5,"Tc","Technetium","(98)",7,5,"Ru","Ruthenium","101.07",8,5,"Rh","Rhodium","102.9055",9,5,"Pd","Palladium","106.42",10,5,"Ag","Silver","107.8682",11,5,"Cd","Cadmium","112.411",12,5,"In","Indium","114.818",13,5,"Sn","Tin","118.71",14,5,"Sb","Antimony","121.76",15,5,"Te","Tellurium","127.6",16,5,"I","Iodine","126.90447",17,5,"Xe","Xenon","131.293",18,5,"Cs","Caesium","132.9054",1,6,"Ba","Barium","132.9054",2,6,"La","Lanthanum","138.90547",4,9,"Ce","Cerium","140.116",5,9,"Pr","Praseodymium","140.90765",6,9,"Nd","Neodymium","144.242",7,9,"Pm","Promethium","(145)",8,9,"Sm","Samarium","150.36",9,9,"Eu","Europium","151.964",10,9,"Gd","Gadolinium","157.25",11,9,"Tb","Terbium","158.92535",12,9,"Dy","Dysprosium","162.5",13,9,"Ho","Holmium","164.93032",14,9,"Er","Erbium","167.259",15,9,"Tm","Thulium","168.93421",16,9,"Yb","Ytterbium","173.054",17,9,"Lu","Lutetium","174.9668",18,9,"Hf","Hafnium","178.49",4,6,"Ta","Tantalum","180.94788",5,6,"W","Tungsten","183.84",6,6,"Re","Rhenium","186.207",7,6,"Os","Osmium","190.23",8,6,"Ir","Iridium","192.217",9,6,"Pt","Platinum","195.084",10,6,"Au","Gold","196.966569",11,6,"Hg","Mercury","200.59",12,6,"Tl","Thallium","204.3833",13,6,"Pb","Lead","207.2",14,6,"Bi","Bismuth","208.9804",15,6,"Po","Polonium","(209)",16,6,"At","Astatine","(210)",17,6,"Rn","Radon","(222)",18,6,"Fr","Francium","(223)",1,7,"Ra","Radium","(226)",2,7,"Ac","Actinium","(227)",4,10,"Th","Thorium","232.03806",5,10,"Pa","Protactinium","231.0588",6,10,"U","Uranium","238.02891",7,10,"Np","Neptunium","(237)",8,10,"Pu","Plutonium","(244)",9,10,"Am","Americium","(243)",10,10,"Cm","Curium","(247)",11,10,"Bk","Berkelium","(247)",12,10,"Cf","Californium","(251)",13,10,"Es","Einstenium","(252)",14,10,"Fm","Fermium","(257)",15,10,"Md","Mendelevium","(258)",16,10,"No","Nobelium","(259)",17,10,"Lr","Lawrencium","(262)",18,10,"Rf","Rutherfordium","(267)",4,7,"Db","Dubnium","(268)",5,7,"Sg","Seaborgium","(271)",6,7,"Bh","Bohrium","(272)",7,7,"Hs","Hassium","(270)",8,7,"Mt","Meitnerium","(276)",9,7,"Ds","Darmstadium","(281)",10,7,"Rg","Roentgenium","(280)",11,7,"Cn","Copernicium","(285)",12,7,"Uut","Unutrium","(284)",13,7,"Fl","Flerovium","(289)",14,7,"Uup","Ununpentium","(288)",15,7,"Lv","Livermorium","(293)",16,7,"Uus","Ununseptium","(294)",17,7,"Uuo","Ununoctium","(294)",18,7]},function(t,n){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),r=function(){function t(n,e,r){return a(this,t),this.radius=void 0!==n?n:1,this.phi=void 0!==e?e:0,this.theta=void 0!==r?r:0,this}return e(t,[{key:"set",value:function(t,n,a){return this.radius=t,this.phi=n,this.theta=a,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}}]),t}();n.default=r},function(t,n){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,a,e){return a&&t(n.prototype,a),e&&t(n,e),n}}(),r=function(){function t(n,e,r){return a(this,t),this.radius=void 0!==n?n:1,this.theta=void 0!==e?e:0,this.y=void 0!==r?r:0,this}return e(t,[{key:"set",value:function(t,n,a){return this.radius=t,this.theta=n,this.y=a,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}},{key:"setFromVector3",value:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}]),t}();n.default=r}])});